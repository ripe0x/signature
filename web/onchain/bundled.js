(()=>{var Zt="FoldMono",en="data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAAOIAA4AAAAADAQAAAM2AAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGhYbEBwmBmAAPBEQCo9sjiABNgIkAwwLDAAEIAWCfAcgGzkKIK4GbGOy2GicLj5u8RpRKYyZuIy26Oe9GkG0llXPQhAUoVLRQOiIjYYnUuLluRfqlUh8nv35d3DbeacPRpI7wLzuWl2XGTr+R4rdqk48ecPEg8A0wvynUz9VJ0gGYLd1C/5xl7xv3SZnBWzBGr8QtP8P9KU3gF/4v///XtV/LeBjv+MBmzYJYqG96Ce0h6/5XmbHBNnLAlygYMFqXKAK1bYRcgkLxgZhXaf627YE6gFJIBcCteo1AuwbDBChbA4tEHHa8CDi2utCBABSXokNorp4phkhurc/Cdkmqp0bWqrKalIqUp4jaAbAzD4U5MOrPfX1JpR/yDVAQLZF3YE+VCRkaEcRaEc1Bkq5kJLE/gHUNnm3+zdMKK9aMhR+h189BajFT9I/lJ0BIAcwLMQ2l3Yj73wvYnyWbjmo3XbjJ0eY8W5h/BrjMzLJ2VlnUo3PYuKqtuQN3OLm3X+/upK1DTdwjZsDyUyqec6GEF09syI3F92yUZdMJ62DE7XK6uCueMYse9occDNSOJk2TzuvAA1ohsS27Vw8Tqt1nSmHabjbFnGndFO5K3PzpJ4CUz1JBorMmHHLdmQwBHRTnMkKhQ2QvVOwlGW8DcP5FqbrJJvdjsuaDB97D7UPuQfMWVxWiURGZPMptIkVhKEJKCNQDIyTFKlyZLbV+p53gX4egWr7bX73rYYTy+fRt6NAzImHc31/acg9fC0EFH1/obMyd7VtOx4JfU3acYK4OL1wfhzUFbtqf+2dJ+YG3K/voIAkorej7to5G4ZgZG5J17dlDgasZyO9xT2bOM2geuh5N335H/05CBAo+D8a3teHrs9kVYNvlTICfznXj/qG+mEqQY0AQfnnlyCvvGfUD0jWq5FXOCj0rhgQshT513IJVZZQRF6DIzii0KmJkkZPKLNkNZ7LUKHHe3ulrkb3x2Kgo2PDk1VXwRPT09UzttAnIRgd6m8KBWMNkbgGj19b25mmG2vqxkaEs7LdVDE0VVGmSeKcTHfjguaJm3smpWsmdnzBsDSJIzDqMKW8o1bEecw0dHS0TGzyS4Z6n9NTNSaXDzlPw2BeyPLakJQRk0Wx9HurZUEAAA==",Sn='"Courier New", Courier, monospace',ue=`"${Zt}", ${Sn}`,Fe=.6,le=.08,ae=.06,Ln=.03,kn=.05;function je(t,e,n){let r=t/255,o=e/255,s=n/255;return(.2126*r+.7152*o+.0722*s)*100}var tt=[{hex:"#000000",name:"black",luminance:0,temperature:"neutral",r:0,g:0,b:0},{hex:"#0000AA",name:"blue",luminance:10,temperature:"cool",r:0,g:0,b:170},{hex:"#AA0000",name:"red",luminance:20,temperature:"warm",r:170,g:0,b:0},{hex:"#AA00AA",name:"magenta",luminance:25,temperature:"warm",r:170,g:0,b:170},{hex:"#FFFFFF",name:"white",luminance:100,temperature:"neutral",r:255,g:255,b:255},{hex:"#FFFF55",name:"yellow",luminance:93,temperature:"warm",r:255,g:255,b:85},{hex:"#55FFFF",name:"lightCyan",luminance:85,temperature:"cool",r:85,g:255,b:255},{hex:"#55FF55",name:"lightGreen",luminance:77,temperature:"cool",r:85,g:255,b:85},{hex:"#00AA00",name:"green",luminance:30,temperature:"cool",r:0,g:170,b:0},{hex:"#00AAAA",name:"cyan",luminance:40,temperature:"cool",r:0,g:170,b:170},{hex:"#5555FF",name:"lightBlue",luminance:45,temperature:"cool",r:85,g:85,b:255},{hex:"#FF5555",name:"lightRed",luminance:45,temperature:"warm",r:255,g:85,b:85},{hex:"#FF55FF",name:"lightMagenta",luminance:60,temperature:"warm",r:255,g:85,b:255}],Fn=tt.filter(t=>t.luminance<30||t.luminance>70),Dn={black:.2,white:.15,blue:.15,red:.15,magenta:.1,yellow:.1,lightCyan:.08,lightGreen:.07},_t=tt,Gn=tt.filter(t=>t.temperature!=="neutral"),On=tt.filter(t=>t.temperature!=="neutral"),Ue=tt,zo={dark:tt.filter(t=>t.luminance<30),light:tt.filter(t=>t.luminance>70)},Ke={warm:tt.filter(t=>t.temperature==="warm"),cool:tt.filter(t=>t.temperature==="cool"),neutral:tt.filter(t=>t.temperature==="neutral")};function Nn(t,e){let n=t.r-e.r,r=t.g-e.g,o=t.b-e.b;return Math.sqrt(n*n*.3+r*r*.59+o*o*.11)}function Wn(t,e,n){let r=t.luminance,o=e.luminance,s=[];for(let i=0;i<n;i++){let c=i/(n-1),l=r+(o-r)*c,h=tt.filter(g=>g.temperature===t.temperature||g.temperature==="neutral"),C=h[0],b=Math.abs(C.luminance-l);for(let g of h){let d=Math.abs(g.luminance-l);d<b&&(b=d,C=g)}s.push(C)}return s}function Ve(t,e,n=4.5){let r=t.luminance/100,o=e.luminance/100,s=Math.max(r,o)+.05,i=Math.min(r,o)+.05;return s/i>=n}function ce(t,e){return e[Math.floor(t()*e.length)]}function _n(t,e,n){let r=t(),o=0;for(let s of e)if(o+=n[s.name]||0,r<o)return s;return e[e.length-1]}function Ae(t,e,n){e/=100,n/=100;let r=e*Math.min(n,1-n),o=s=>{let i=(s+t/30)%12,c=n-r*Math.max(Math.min(i-3,9-i,1),-1);return Math.round(255*c).toString(16).padStart(2,"0")};return`#${o(0)}${o(8)}${o(4)}`}function Ie(t){let e=parseInt(t.slice(1,3),16)/255,n=parseInt(t.slice(3,5),16)/255,r=parseInt(t.slice(5,7),16)/255,o=Math.max(e,n,r),s=Math.min(e,n,r),i,c,l=(o+s)/2;if(o===s)i=c=0;else{let h=o-s;switch(c=l>.5?h/(2-o-s):h/(o+s),o){case e:i=((n-r)/h+(n<r?6:0))/6;break;case n:i=((r-e)/h+2)/6;break;case r:i=((e-n)/h+4)/6;break}}return{h:i*360,s:c*100,l:l*100}}var Hn={red:["cyan","lightCyan"],magenta:["green","lightGreen"],blue:["yellow"],lightRed:["cyan","lightCyan"],lightMagenta:["green","lightGreen"],lightBlue:["yellow"],cyan:["red","lightRed"],lightCyan:["red","lightRed"],green:["magenta","lightMagenta"],lightGreen:["magenta","lightMagenta"],yellow:["blue","lightBlue"],black:["white","yellow","lightCyan"],white:["black","blue","magenta"]};function Bn(t,e,n){let o=[];switch(e){case"value":{let s=t.luminance<50;o=_t.filter(i=>s?i.luminance>60:i.luminance<40);break}case"temperature":{if(t.temperature==="neutral")o=_t.filter(s=>s.temperature!=="neutral"&&Math.abs(s.luminance-t.luminance)>25);else{let s=t.temperature==="warm"?"cool":"warm";o=_t.filter(i=>i.temperature===s&&Math.abs(i.luminance-t.luminance)>25)}break}case"complement":{let s=Hn[t.name]||[];if(o=_t.filter(i=>s.includes(i.name)),o.length===0){let i=t.luminance<50;o=_t.filter(c=>i?c.luminance>60:c.luminance<40)}break}case"clash":{o=_t.filter(s=>s.name!==t.name&&Math.abs(s.luminance-t.luminance)>20&&Math.abs(s.luminance-t.luminance)<50);break}}return o.sort((s,i)=>Math.abs(i.luminance-t.luminance)-Math.abs(s.luminance-t.luminance)),o.length>0?ce(n,o):t.luminance<50?tt.find(s=>s.name==="white"):tt.find(s=>s.name==="black")}function Pn(t,e,n){if(n()<.4)return e;let r=Gn.filter(s=>s.name!==t.name&&s.name!==e.name&&Math.abs(s.luminance-t.luminance)>20);if(r.length===0)return e;let o=r.filter(s=>["yellow","lightCyan","lightMagenta","lightGreen"].includes(s.name));return o.length>0&&n()<.6?ce(n,o):ce(n,r)}function Xn(t){let e=ce(t,On),n;return e.luminance>50?n=tt.find(r=>r.name==="black"):e.luminance<30?n=t()<.75?tt.find(r=>r.name==="black"):tt.find(r=>r.name==="white"):n=t()<.6?tt.find(r=>r.name==="black"):tt.find(r=>r.name==="white"),{bg:n.hex,text:e.hex,accent:e.hex,strategy:`monochrome/${e.name}`,colorCount:2}}function Yn(t){let e=W(t);if(e()<.12)return Xn(e);let n=_n(e,Fn,Dn),r=e(),o;r<.4?o="value":r<.68?o="temperature":r<.9?o="complement":o="clash";let s=Bn(n,o,e),i=Pn(n,s,e),c=i.hex===s.hex?2:3;return Math.abs(n.luminance-s.luminance)<25?{bg:n.luminance<50?"#000000":"#FFFFFF",text:n.luminance<50?"#FFFFFF":"#000000",accent:"#FFFF55",strategy:o,colorCount:c}:{bg:n.hex,text:s.hex,accent:i.hex,strategy:o,colorCount:c}}function qe(t,e,n){let r=[];for(let o=e;o<=n;o++)t%o===0&&r.push(o);return r}function $n(t,e,n,r){let o=1200-n*2-290,s=1697-n*2-145*2,i=qe(o,20,600),c=qe(s,20,600);i.length===0&&i.push(8),c.length===0&&c.push(12);let l=W(r+9999),h=1+le+ae,C=Fe/h,b=[];for(let p of i)for(let y of c){let f=Math.max(p/y,y/p),u=y*C;f<=3&&p>=u&&b.push({w:p,h:y})}if(b.length===0)return{cellW:8,cellH:12};b.sort((p,y)=>p.w*p.h-y.w*y.h);let g=l(),d;if(g<.03){let p=Math.max(1,Math.ceil(b.length*.1)),y=Math.floor(l()*p);d=b[y]}else if(g<.1){let p=Math.floor(b.length*.1),y=Math.floor(b.length*.25),f=p+Math.floor(l()*Math.max(1,y-p));d=b[Math.min(f,b.length-1)]}else if(g<.45){let p=Math.floor(b.length*.25),y=Math.floor(b.length*.75),f=p+Math.floor(l()*(y-p));d=b[Math.min(f,b.length-1)]}else if(g<.95){let p=Math.floor(b.length*.75),y=Math.floor(b.length*.9),f=p+Math.floor(l()*Math.max(1,y-p));d=b[Math.min(f,b.length-1)]}else{let p=Math.floor(b.length*.9),y=p+Math.floor(l()*(b.length-p));d=b[Math.min(y,b.length-1)]}return{cellW:d.w,cellH:d.h}}function zn(t){let n=W(t+5555)();return n<.4?"normal":n<.7?"inverted":n<.8?"binary":n<.9?"sparse":"dense"}function jn(t){return W(t+5556)()<.3}function De(t){let e=W(t+7777),n=e();if(n<.25){let r=.2+e()*.2;return{min:r,max:r+.1+e()*.2}}else if(n<.5){let r=.6+e()*.2;return{min:r,max:r+.1+e()*.1}}else return n<.75?{min:.1+e()*.2,max:.7+e()*.3}:{min:.3+e()*.2,max:.5+e()*.5}}function Un(t){let e=W(t+11111);if(!(e()>=.5))return{hasOverlap:!1,amount:"none"};let r=e(),o;return r<.2?o="5%":r<.4?o="25%":r<.6?o="50%":r<.8?o="75%":o="95%",{hasOverlap:!0,amount:o}}function nn(t){let e=W(t+2222);return Math.floor(4+e()*66)}function on(t){let e=W(t+6666),n=e();return n<.16?{type:"horizontal",jitter:3+e()*12}:n<.32?{type:"vertical",jitter:3+e()*12}:n<.44?{type:"diagonal",angle:e()<.5?45:135,jitter:5+e()*15}:n<.56?{type:"radial",focalX:.2+e()*.6,focalY:.2+e()*.6}:n<.68?{type:"grid",jitter:3+e()*10}:n<.8?{type:"clustered",clusterX:.15+e()*.7,clusterY:.15+e()*.7,spread:.2+e()*.4}:{type:"random"}}function Te(t){let e=t.toUpperCase();return Ue.find(n=>n.hex===e)||Ue[0]}function Kn(t,e,n){let r=W(t+3333),o=Te(e),s=Te(n),i=o.luminance>50,c=(h,C)=>i?C.luminance-h.luminance:h.luminance-C.luminance;if(r()<.5){let h=Wn(o,s,6);return[h[0].hex,h[Math.floor(h.length*.33)].hex,h[Math.floor(h.length*.66)].hex,h[h.length-1].hex]}else{let h=s.temperature,C=h==="warm"?"cool":"warm",b=Ke[h].filter(x=>Ve(o,x,2)).sort(c),g=Ke[C].filter(x=>Ve(o,x,2)).sort(c),d=[],p=new Set;b.length>0?(d.push(b[0].hex),p.add(b[0].hex)):(d.push(s.hex),p.add(s.hex));let y=b.filter(x=>!p.has(x.hex));if(y.length>0){let x=y[Math.floor(y.length*.4)];d.push(x.hex),p.add(x.hex)}else d.push(s.hex);let f=g.filter(x=>!p.has(x.hex));if(f.length>0){let x=f[Math.floor(f.length*.5)];d.push(x.hex),p.add(x.hex)}else d.push(s.hex);let u=[...b,...g].filter(x=>!p.has(x.hex)).sort(c);return u.length>0?d.push(u[u.length-1].hex):d.push(s.hex),d}}function Vn(t){return W(t+4444)()<.25}function rn(t){return .08+(.35-.08)*Math.exp(-.03*t)}function qn(t,e=0){let n=W(t+77777),r=rn(e);return n()<r}function Jn(t){let n=W(t+88888)();return n<.5?"background":n<.85?"text":"accent"}function Re(t){let e=[0,51,102,153,204,255],n=e[0],r=Math.abs(t-n);for(let o of e){let s=Math.abs(t-o);s<r&&(r=s,n=o)}return n}function sn(t,e,n){let r=Re(t),o=Re(e),s=Re(n);return"#"+r.toString(16).padStart(2,"0").toUpperCase()+o.toString(16).padStart(2,"0").toUpperCase()+s.toString(16).padStart(2,"0").toUpperCase()}function fe(t){let e=t.replace("#","");return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}}function se(t){let e=fe(t);return(.299*e.r+.587*e.g+.114*e.b)/255}function Je(t,e,n){let r=fe(t),s=e*n*51,i=Math.max(0,Math.min(255,r.r+s)),c=Math.max(0,Math.min(255,r.g+s)),l=Math.max(0,Math.min(255,r.b+s));return sn(i,c,l)}function Ht(t,e,n,r){let s=W(t+(r==="background"?11111:r==="text"?22222:33333)),i=se(e),c=se(n),l;r==="background"?i<.3?l=s()<.75?1:-1:i>.7?l=s()<.75?-1:1:l=s()<.5?1:-1:r==="text"?c<.4?l=i>.5&&s()<.6?-1:1:l=i<.5&&s()<.6?1:-1:l=s()<.5?1:-1;let h=s(),C=h<.5?1:h<.85?2:3,b=Je(e,l,C),g=se(b),d=Math.abs(g-c);if(r!=="accent"&&d<.2){let p=Je(e,-l,C+1),y=se(p);if(Math.abs(y-c)>d)return p}return b}function Qn(t,e,n){let r={...e,anchorType:n,cgaBg:e.bg,cgaText:e.text,cgaAccent:e.accent};return n==="background"?(r.bg=e.bg,r.text=Ht(t,e.text,e.bg,"text"),r.accent=Ht(t+1,e.accent,e.bg,"accent")):n==="text"?(r.bg=Ht(t,e.bg,e.text,"background"),r.text=e.text,r.accent=Ht(t+1,e.accent,e.text,"accent")):(r.bg=Ht(t,e.bg,e.accent,"background"),r.text=Ht(t+1,e.text,r.bg,"text"),r.accent=e.accent),r}function Zn(t,e){let n=fe(t),r=fe(e);return[.25,.5,.75,1].map(i=>{let c=Math.round(n.r+(r.r-n.r)*i),l=Math.round(n.g+(r.g-n.g)*i),h=Math.round(n.b+(r.b-n.b)*i);return sn(c,l,h)})}function to(t){return W(t+9191)()<.008}function eo(t){return W(t+9393)()<.008}function no(t){let e=W(t+5555),n=.1+e()*.8,r=0,o=e()<.4,s=o?e()*180:null,i=o?.2+e()*.6:0,c=.3+e()*1.4;return{absorbency:n,intersectionThreshold:r,angleAffinity:s,affinityStrength:i,ceilingMultiplier:c}}function oo(t){let e=t.absorbency<.35?"Resistant":t.absorbency<.65?"Standard":"Absorbent",n=t.intersectionThreshold<.15?"Fine":t.intersectionThreshold<.35?"Medium":"Coarse",r=t.angleAffinity!==null?"Grain":"Uniform";return`${e}/${n}/${r}`}function ln(t,e,n){return t}var jo=[-1/1,-1/2,-1/4,-1/8,-1/16,1/64,1/32,1/16,1/8,1/4,1/2,1,2];function an(t,e,n,r,o){let s=W(t+12345),i=s()<.6,c=!1,l=!1,h=!1,C=!1;if(i){let D=s();D<.33?c=!0:(D<.66||(c=!0),l=!0),c&&s()<.3&&(h=!0),l&&s()<.3&&(C=!0)}let b=[-1/16,-1/8,-1/4,-1/2],g=D=>{if(D)return b[Math.floor(s()*b.length)];let L=s();return L<.4?0:L<.525?1/64:L<.65?1/32:L<.75?1/16:L<.85?1/8:L<.9?1/4:L<.95?1/2:L<.98?1:2},d=e,p=n,y=c?g(h):0,f=d*y,u=d+f,x=u>0?Math.max(1,Math.floor((r+f)/u)):1,m=x>1?f:0;x===1&&d<r&&(d=r,m=0);let w=l?g(C):0,S=p*w,F=p+S,E=F>0?Math.max(1,Math.floor((o+S)/F)):1,A=E>1?S:0;E===1&&p<o&&(p=o,A=0);let B=x,P=E,Y=m,$=A,z=B*d+(B>1?(B-1)*Y:0),a=P*p+(P>1?(P-1)*$:0),pt=r-z,I=o-a;return{cols:B,rows:P,cellWidth:d,cellHeight:p,colGap:Y,rowGap:$,strideX:d+Y,strideY:p+$,gridOffsetX:pt>0?pt/2:0,gridOffsetY:I>0?I/2:0,actualGridWidth:z,actualGridHeight:a}}function cn(t){let e=Object.values(t).filter(c=>c>0);if(e.length===0)return{t1:1,t2:2,t3:3,tExtreme:999};e.sort((c,l)=>c-l);let n=(c,l)=>{let h=Math.floor(c.length*l);return c[Math.min(h,c.length-1)]},r=n(e,.7),o=n(e,.94),s=n(e,.94)+1,i=n(e,.985);return{t1:Math.max(.01,r),t2:Math.max(r+.01,o),t3:Math.max(o+.01,s),tExtreme:Math.max(s+.01,i)}}function Mt(t,e){return t===0?0:t<=e.t1?1:t<=e.t2?2:3}var ro=1103515245n,so=12345n,Qe=0x7fffffffn;function W(t){let e=BigInt(Math.abs(t)||1);return()=>(e=e*ro+so&Qe,Number(e)/Number(Qe))}function fn(t,e,n){let o=W(t+22222)(),s;o<.6?s=0:o<.8?s=1:o<.9?s=2:o<.97?s=3:s=5;let i=W(t+33333),c=i(),l;c<.22?l="ltr":c<.44?l="rtl":c<.65?l="center":c<.8?l="alternate":c<.9?l="diagonal":c<.96?l="randomMid":l="checkerboard";let h=i()<.5,C=Math.floor(i()*e),b=i()<.5,g=W(t+11111),d=g()>=.65,y=(()=>{if(!d)return 1;let I=g();return I<.1?.95:I<.2?.75:I<.3?.65:I<.6?.5:I<.8?.25:.05})(),f=[.95,.75,.5,.25,.05],u=d?Math.floor(g()*5):0,x=f.indexOf(y),m=Math.floor(g()*3)+1,w=Math.floor(g()*3),S=Math.floor(g()*4)+1,F=[],E=[],A=[],B=.3+g()*.4,P=.3+g()*.4,Y=.3+g()*.4;for(let I=0;I<20;I++)F.push(g()<B),E.push(g()<P),A.push(g()<Y);let $=Math.floor(g()*2),z=g()<.1;return{cellOverflowAmount:s,drawDirectionMode:l,hasOverlap:d,invertedSingleCharOnEmpty:z,getOverlapFactor:(I,D)=>{if(!d)return 1;let L=x===-1?0:x;switch(u){case 1:w===1?F[I%20]&&(L=(L+m)%f.length):w===2?L=(L+I%3*m)%f.length:L=(L+Math.floor(I/S)*m)%f.length;break;case 2:w===1?E[D%20]&&(L=(L+m)%f.length):w===2?L=(L+D%3*m)%f.length:L=(L+Math.floor(D/S)*m)%f.length;break;case 3:if(w===1){let K=F[I%20],j=E[D%20];($===0?K||j:K!==j)&&(L=(L+m)%f.length)}else(I+D)%(w===2?3:2)===0&&(L=(L+m)%f.length);break;case 4:w===1?A[(I+D)%20]&&(L=(L+m)%f.length):(I+D)%(w===2?5:S+1)===0&&(L=(L+m)%f.length);break}return f[L]||y},getCellDirection:(I,D)=>{if(l==="ltr")return"ltr";if(l==="rtl")return"rtl";if(l==="center")return"center";if(l==="alternate")return I%2===1!==h?"rtl":"ltr";if(l==="diagonal"){let L=(C+(b?I:-I)+e*100)%e;return D<L?"ltr":"rtl"}if(l==="randomMid"){let L=W(t+55555+I),K=Math.floor(L()*e);return D<K?"ltr":"rtl"}return l==="checkerboard"?(I+D)%2===0?"ltr":"rtl":"ltr"}}}var et={add:(t,e)=>({x:t.x+e.x,y:t.y+e.y}),sub:(t,e)=>({x:t.x-e.x,y:t.y-e.y}),scale:(t,e)=>({x:t.x*e,y:t.y*e}),dot:(t,e)=>t.x*e.x+t.y*e.y,len:t=>Math.sqrt(t.x*t.x+t.y*t.y),dist:(t,e)=>et.len(et.sub(t,e)),norm:t=>{let e=et.len(t);return e>1e-4?et.scale(t,1/e):{x:0,y:0}},perp:t=>({x:-t.y,y:t.x}),mid:(t,e)=>({x:(t.x+e.x)/2,y:(t.y+e.y)/2}),lerp:(t,e,n)=>({x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}),copy:t=>({x:t.x,y:t.y}),eq:(t,e)=>et.dist(t,e)<.5};function Ge(t,e,n,r){let o=et.sub(e,t),s=et.sub(r,n),i=o.x*s.y-o.y*s.x;if(Math.abs(i)<1e-4)return null;let c=et.sub(n,t),l=(c.x*s.y-c.y*s.x)/i,h=(c.x*o.y-c.y*o.x)/i;return l>=.001&&l<=.999&&h>=.001&&h<=.999?{point:et.add(t,et.scale(o,l)),t:l,u:h}:null}function Ze(t,e){let n=t.reduce((o,s)=>o+s,0);if(n<=0)return 0;let r=e()*n;for(let o=0;o<t.length;o++)if(r-=t[o],r<=0)return o;return t.length-1}var io=0,lo=1,ao=2,co=3;function ht(t,e,n,r){switch(t){case io:return{x:e*n,y:0};case lo:return{x:n,y:e*r};case ao:return{x:(1-e)*n,y:r};case co:return{x:0,y:(1-e)*r};default:return{x:e*n,y:0}}}function Se(t,e,n){switch(t){case 0:return{x:0,y:0};case 1:return{x:e,y:0};case 2:return{x:e,y:n};case 3:return{x:0,y:n};default:return{x:0,y:0}}}function un(t,e){return{x:t.p1.x+(t.p2.x-t.p1.x)*e,y:t.p1.y+(t.p2.y-t.p1.y)*e}}function Le(t,e){let n=e.x-t.x,r=e.y-t.y,o=Math.atan2(r,n)*180/Math.PI;return o<0&&(o+=180),o>=180&&(o-=180),o}function fo(t,e,n,r,o,s,i){let l=(()=>{if(!i)return[0,1,2,3];switch(i.type){case"horizontal":return[1,3];case"vertical":return[0,2];case"grid":return t%2===0?[1,3]:[0,2];case"diagonal":return[0,1,2,3];case"radial":case"clustered":case"random":default:return[0,1,2,3]}})();if(i&&i.type==="radial"){let g=i.focalX*r,d=i.focalY*o;if(t<10||e.length===0||s()<.6){let p=[{edge:0,dist:d},{edge:1,dist:r-g},{edge:2,dist:o-d},{edge:3,dist:g}];p.sort((x,m)=>x.dist-m.dist);let y=s(),f=y<.5?p[0].edge:y<.8?p[1].edge:p[Math.floor(s()*4)].edge,u;return f===0||f===2?u=.1+g/r*.8+(s()-.5)*.3:u=.1+d/o*.8+(s()-.5)*.3,u=Math.max(.05,Math.min(.95,u)),{point:ht(f,u,r,o),type:"edge",edge:f,t:u}}}if(i&&i.type==="clustered"){let g=i.clusterX*r,d=i.clusterY*o,p=i.spread;if(t<15||s()<.7){let y=[{edge:0,weight:1+(1-Math.abs(d/o))*2},{edge:1,weight:1+g/r*2},{edge:2,weight:1+d/o*2},{edge:3,weight:1+(1-g/r)*2}],f=y.reduce((w,S)=>w+S.weight,0),u=s()*f,x=0;for(let w of y)if(u-=w.weight,u<=0){x=w.edge;break}let m;return x===0||x===2?m=g/r+(s()-.5)*p:m=d/o+(s()-.5)*p,m=Math.max(.05,Math.min(.95,m)),{point:ht(x,m,r,o),type:"edge",edge:x,t:m}}}let h=Math.max(.2,1-t*.015),C=i&&(i.type==="horizontal"||i.type==="vertical"||i.type==="grid");if(C||s()<h||e.length===0&&n.length===0){let g=C?0:i&&i.type==="diagonal"?.5:.15;if(s()<g){let p=Math.floor(s()*4);return{point:Se(p,r,o),type:"corner",corner:p}}else{let p=l[Math.floor(s()*l.length)],y=i&&i.jitter?i.jitter/100:0,f=.05+s()*.9,u=Math.max(.05,Math.min(.95,f+(s()-.5)*y));return{point:ht(p,u,r,o),type:"edge",edge:p,t:u}}}else if(n.length>0&&s()<.35){let d=n[Math.floor(s()*n.length)];return{point:{x:d.x,y:d.y},type:"intersection",intersectionIndex:n.indexOf(d)}}else if(e.length>0){let d=e[Math.floor(s()*e.length)],p=.1+s()*.8;return{point:un(d,p),type:"crease",creaseIndex:e.indexOf(d),t:p}}else{let d=l[Math.floor(s()*l.length)],p=.05+s()*.9;return{point:ht(d,p,r,o),type:"edge",edge:d,t:p}}}function uo(t,e,n,r,o,s,i,c,l){let h=Math.min(o,s)*.15,C=f=>f===0||f===2,b=f=>f===1||f===3;if(l&&(l.type==="horizontal"||l.type==="vertical"||l.type==="grid")){let f=l.type==="horizontal"||l.type==="grid"&&e%2===0;if(t.type==="edge"){let u=(t.edge+2)%4,x=b(t.edge);if(f&&x||!f&&!x){let m=l.jitter?l.jitter/100:0,w=t.t!==void 0?t.t:.5,S=Math.max(.05,Math.min(.95,w+(i()-.5)*m));return S=1-S,{point:ht(u,S,o,s),type:"edge",edge:u}}}}if(l&&l.type==="diagonal"){let f=l.angle||(i()<.5?45:135);if(t.type==="corner"){let u=(t.corner+2)%4;return{point:Se(u,o,s),type:"corner"}}else if(t.type==="edge"){let u=l.jitter?(i()-.5)*l.jitter:0,x=(f+u)*Math.PI/180,m=t.point.x,w=t.point.y,S=Math.cos(x),F=Math.sin(x),E=null,A=0,B=[{edge:0,y:0},{edge:2,y:s},{edge:3,x:0},{edge:1,x:o}];for(let P of B){let Y=null;if(P.y!==void 0){let $=(P.y-w)/F;if($>0){let z=m+S*$;z>=0&&z<=o&&(Y={x:z,y:P.y})}}else{let $=(P.x-m)/S;if($>0){let z=w+F*$;z>=0&&z<=s&&(Y={x:P.x,y:z})}}if(Y){let $=et.dist(t.point,Y);$>A&&$>=h&&(A=$,E=Y)}}if(E)return{point:E,type:"edge"}}}if(l&&l.type==="radial"){let f=l.focalX*o,u=l.focalY*s,x={x:f,y:u},m=t.point.x-f,w=t.point.y-u,S=Math.sqrt(m*m+w*w);if(S>0){let F=m/S,E=w/S,A=1/0;F>0&&(A=Math.min(A,(o-t.point.x)/F)),F<0&&(A=Math.min(A,-t.point.x/F)),E>0&&(A=Math.min(A,(s-t.point.y)/E)),E<0&&(A=Math.min(A,-t.point.y/E));let B={x:Math.max(0,Math.min(o,t.point.x+F*A*.95)),y:Math.max(0,Math.min(s,t.point.y+E*A*.95))};if(et.dist(t.point,B)>=h)return{point:B,type:"edge"}}}if(l&&l.type==="clustered"){let f=l.clusterX*o,u=l.clusterY*s,x={x:f,y:u},m=[];for(let S=0;S<4;S++)for(let F=0;F<3;F++){let E=.1+i()*.8,A=ht(S,E,o,s),B=ho(x,t.point,A),P=Math.max(o,s)*.5,Y=Math.max(.1,1-B/P)*3;m.push({point:A,type:"edge",edge:S,weight:Y})}let w=m.filter(S=>et.dist(t.point,S.point)>=h);if(w.length>0){let S=w.map(E=>E.weight),F=Ze(S,i);return w[F]}}let g=[];if(t.type==="edge"){let f=(t.edge+2)%4,u=(t.edge+1)%4,x=(t.edge+3)%4,m=e<3?3:1.5;for(let S=0;S<3;S++){let F=.1+i()*.8;g.push({point:ht(f,F,o,s),type:"edge",edge:f,weight:m})}let w=1;for(let S=0;S<2;S++){let F=.1+i()*.8;g.push({point:ht(u,F,o,s),type:"edge",edge:u,weight:w}),g.push({point:ht(x,F,o,s),type:"edge",edge:x,weight:w})}}else if(t.type==="corner"){let f=(t.corner+2)%4;g.push({point:Se(f,o,s),type:"corner",weight:2});for(let u=0;u<4;u++)if(!(u===t.corner||u===(t.corner+3)%4)){let m=.2+i()*.6;g.push({point:ht(u,m,o,s),type:"edge",edge:u,weight:1.5})}}else{for(let f=0;f<4;f++){let u=.1+i()*.8;g.push({point:ht(f,u,o,s),type:"edge",edge:f,weight:1})}if(n.length>1&&e>3)for(let f=0;f<Math.min(3,n.length);f++){let u=Math.floor(i()*n.length),x=n[u];if(t.type==="crease"&&t.creaseIndex===u)continue;let m=.15+i()*.7;g.push({point:un(x,m),type:"crease",creaseIndex:u,weight:.6})}}if(n.length>0&&c)for(let f of g){let u=Le(t.point,f.point);for(let x of n){let m=Le(x.p1,x.p2),w=Math.abs(u-m);w>90&&(w=180-w),c.parallel>0&&w<15&&(f.weight*=1+c.parallel),c.perpendicular>0&&w>75&&(f.weight*=1+c.perpendicular)}}let d=g.filter(f=>et.dist(t.point,f.point)>=h);if(d.length===0){for(let u=0;u<4;u++){let m=ht(u,.5,o,s);if(et.dist(t.point,m)>=h)return{point:m,type:"edge",edge:u}}let f=t.type==="edge"?(t.edge+2)%4:0;return{point:ht(f,.5,o,s),type:"edge",edge:f}}let p=d.map(f=>f.weight),y=Ze(p,i);return d[y]}function ho(t,e,n){let r=n.x-e.x,o=n.y-e.y,s=r*r+o*o;if(s===0)return et.dist(t,e);let i=((t.x-e.x)*r+(t.y-e.y)*o)/s;i=Math.max(0,Math.min(1,i));let c={x:e.x+i*r,y:e.y+i*o};return et.dist(t,c)}function po(t){let e=[];for(let n=0;n<t.length;n++)for(let r=n+1;r<t.length;r++){let o=Ge(t[n].p1,t[n].p2,t[r].p1,t[r].p2);o&&e.push({x:o.point.x,y:o.point.y,crease1:n,crease2:r})}return e}function Oe(t,e,n,r,o={min:0,max:1},s=null,i=null){if(!t||!e||t<=0||e<=0)return{creases:[],finalShape:[]};let c=s||on(r),l=nn(r),h=[{x:0,y:0},{x:t,y:0},{x:t,y:e},{x:0,y:e}],C=[],b=null,g=null;if(!n||n<=0)return{creases:[],finalShape:h,maxFolds:l,firstFoldTarget:null,lastFoldTarget:null};let d=W(r),p=W(r+8888),y=W(r+6666),f=i||{absorbency:1,intersectionThreshold:0,angleAffinity:null,affinityStrength:0,ceilingMultiplier:1},u=[],x=W(r+1111);for(let E=0;E<l;E++)u[E]=.001+x()*.25;let m=W(r+2222),w={parallel:m()*.8,perpendicular:m()*.8},S=Math.max(t,e)*.05,F=[];for(let E=0;E<n;E++){let A=E%l,B=Math.floor(E/l);if(A===0&&B>0)for(let K of C)K.reductionMultiplier!==void 0&&(K.weight=Math.max(.01,K.weight*K.reductionMultiplier));E%5===0&&C.length>1&&(F=po(C));let P=fo(E,C,F,t,e,d,c),Y=uo(P,E,C,F,t,e,d,w,c),$=P.point,z=Y.point,pt=y()<f.absorbency,I=o.min+p()*(o.max-o.min);if(f.angleAffinity!==null&&f.affinityStrength>0){let K=Le($,z),j=Math.abs(K-f.angleAffinity);j>90&&(j=180-j);let q=1-j/90*f.affinityStrength;I*=q}if(pt&&I>.01&&(C.push({p1:et.copy($),p2:et.copy(z),depth:C.length,weight:I,cyclePosition:A,reductionMultiplier:u[A],anchorType:P.type,terminusType:Y.type}),C.length>1)){let K=C[C.length-1];for(let j=0;j<C.length-1;j++){let q=Ge(K.p1,K.p2,C[j].p1,C[j].p2);q&&F.push({x:q.point.x,y:q.point.y,crease1:j,crease2:C.length-1})}}let D=et.mid($,z),L={x:Math.max(S,Math.min(t-S,D.x)),y:Math.max(S,Math.min(e-S,D.y))};E===0&&b===null&&(b=L),g=L}return{creases:C,finalShape:h,maxFolds:l,firstFoldTarget:b,lastFoldTarget:g}}function go(t){let e=[];for(let n=0;n<t.length;n++)for(let r=n+1;r<t.length;r++){let o=Ge(t[n].p1,t[n].p2,t[r].p1,t[r].p2);if(o){let s=t[n].weight||1,i=t[r].weight||1;e.push({x:o.point.x,y:o.point.y,depth1:t[n].depth,depth2:t[r].depth,gap:Math.abs(t[r].depth-t[n].depth),weight:s+i})}}return e}function dn(t,e,n,r,o,s=null,i=null){let c=go(t),l=i||{intersectionThreshold:0,ceilingMultiplier:1},h=c.filter(f=>f.weight>=l.intersectionThreshold),C={},b={},g={};for(let f of h){let u=Math.floor(f.x/r),x=Math.floor(f.y/o);if(u>=0&&u<e&&x>=0&&x<n){let m=`${u},${x}`;C[m]=(C[m]||0)+f.weight,b[m]=Math.max(b[m]||0,f.gap),g[m]=(g[m]||0)+1}}let p=e*n*.5*l.ceilingMultiplier,y=Object.values(C).reduce((f,u)=>f+u,0);if(y>p&&y>0){let f=p/y,u=f+(1-f)*.3;for(let x of Object.keys(C))C[x]*=u}return{activeCreases:t,intersections:h,cellWeights:C,cellMaxGap:b,cellIntersectionCounts:g,destroyed:0,maxFolds:s}}function hn(t,e,n,r,o){let s=document.createElement("canvas"),i=s.getContext("2d"),c=Math.max(1,Math.round(r*2)),l=c*2;s.width=l,s.height=l,i.fillStyle=o,i.fillRect(0,0,c,c),i.fillRect(c,c,c,c),t.globalAlpha=.05;let h=t.createPattern(s,"repeat");t.fillStyle=h,t.fillRect(0,0,e,n),t.globalAlpha=1}function Ne({folds:t,seed:e,outputWidth:n,outputHeight:r,bgColor:o,textColor:s,accentColor:i,cellWidth:c,cellHeight:l,renderMode:h,showEmptyCells:C=!1,multiColor:b,levelColors:g,foldStrategy:d=null,paperProperties:p=null,padding:y=0,showCreases:f=!1,showPaperShape:u=!1,showFoldTargets:x=!1,showIntersections:m=!1,showGrid:w=!1,showHitCounts:S=!1,showCellOutlines:F=!1,showCreaseLines:E=!1,fontFamily:A=ue,linesOnlyMode:B=!1,analyticsMode:P=!1,skipCells:Y=null,skipBackground:$=!1}){let z=document.createElement("canvas"),a=z.getContext("2d"),pt=2;z.width=n*pt,z.height=r*pt,a.setTransform(pt,0,0,pt,0,0);let I=n/1200,D=r/1697;$||(a.fillStyle=o,a.fillRect(0,0,n,r),hn(a,n,r,I,s));let L=1200-y*2-145*2,K=1697-y*2-145*2,j=an(e,c,l,L,K),{cols:q,rows:ct,strideX:Bt,strideY:Pt,gridOffsetX:he,gridOffsetY:pe}=j,Xt=j.cellWidth,Yt=j.cellHeight,$t=L*I,wt=K*D,_=(y+145+he)*I,X=(y+145+pe)*D,xt=Xt*I,lt=Yt*D,Ct=Bt*I,mt=Pt*D,At=De(e),Et=ln(p,q,ct),Ft=j.actualGridWidth,Dt=j.actualGridHeight,{creases:It,finalShape:ge,maxFolds:_e,firstFoldTarget:Rt,lastFoldTarget:Tt}=Oe(Ft,Dt,t,e,At,d,Et),He=It.map(v=>({...v,p1:{x:v.p1.x*I,y:v.p1.y*D},p2:{x:v.p2.x*I,y:v.p2.y*D}})),te=null;if(Rt){let v=Math.max(0,Math.min(q-1,Math.floor(Rt.x/Bt))),T=Math.max(0,Math.min(ct-1,Math.floor(Rt.y/Pt)));te=`${v},${T}`}let zt=null;if(Tt){let v=Math.max(0,Math.min(q-1,Math.floor(Tt.x/Bt))),T=Math.max(0,Math.min(ct-1,Math.floor(Tt.y/Pt)));zt=`${v},${T}`}let{activeCreases:bt,intersections:O,cellWeights:ft,cellMaxGap:ut}=dn(He,q,ct,Ct,mt,_e,p),yt=new Set;if(Object.keys(ut).length>0){let v=Math.max(...Object.values(ut));for(let[T,R]of Object.entries(ut))R===v&&yt.add(T)}let ot=1+le+ae,nt=lt/ot;a.font=`${nt}px ${A}`,a.textBaseline="top";let U=[" ","\u2591","\u2592","\u2593"],Z=nt<30?2:3,G=nt*Fe,jt=nt*le,xe=nt*ae,mn=nt*Ln,Ut=nt*kn,St=cn(ft),ee=fn(e,q,h),{cellOverflowAmount:me,drawDirectionMode:Kt,invertedSingleCharOnEmpty:Vt,getOverlapFactor:ye,getCellDirection:Be}=ee,Lt=(v,T)=>g&&g.length>0?g[Math.min(v,3)]:s,kt=W(e+22222),qt=kt()<.25,yn=Math.round(2+kt()*2)*I,Mn=Math.round(1+kt()*2)*D,bn=qt?.4+kt()*.3:0,Cn=(v,T)=>{let R=W(e+22222+v*1e3+T),H=Math.floor(R()*3);return{x:H!==1?yn:0,y:H!==0?Mn:0}},En=qt?(()=>{if(i&&i!==s)return i;let v=Te(s),T=tt.filter(J=>J.hex!==s&&J.hex!==o&&Nn(J,v)>100),R=Math.floor(kt()*T.length);return(T.length>0?T[R]:tt[0]).hex})():null,Pe=(y+145)*I,Me=(y+145)*D,be=Pe+Ut,vn=Me+jt,Ce=Pe+$t,Po=Me+wt-xe;if(B){let v=k=>{let N=parseInt(k.slice(1,3),16),rt=parseInt(k.slice(3,5),16),Q=parseInt(k.slice(5,7),16);return je(N,rt,Q)},T=v(o),R=v(s),H=v(i),J=Math.abs(T-R)>Math.abs(T-H)?s:i,st=2*I;if(bt.length>0){a.strokeStyle=J,a.lineWidth=st,a.globalAlpha=1,a.lineCap="round";for(let k of bt)a.beginPath(),a.moveTo(_+k.p1.x,X+k.p1.y),a.lineTo(_+k.p2.x,X+k.p2.y),a.stroke()}if(O&&O.length>0){a.strokeStyle=J,a.lineWidth=st,a.globalAlpha=1;let k=4*I;for(let N of O)a.beginPath(),a.arc(_+N.x,X+N.y,k,0,Math.PI*2),a.stroke()}a.globalAlpha=1}else if(P){let v=2*I;a.strokeStyle=i,a.lineWidth=1,a.globalAlpha=.4;for(let R=0;R<=q;R++){let H=_+R*Ct;a.beginPath(),a.moveTo(H,X),a.lineTo(H,X+wt),a.stroke()}for(let R=0;R<=ct;R++){let H=X+R*mt;a.beginPath(),a.moveTo(_,H),a.lineTo(_+$t,H),a.stroke()}if(a.globalAlpha=1,bt.length>0){a.strokeStyle=i,a.lineWidth=v,a.globalAlpha=1,a.lineCap="round";for(let R of bt)a.beginPath(),a.moveTo(_+R.p1.x,X+R.p1.y),a.lineTo(_+R.p2.x,X+R.p2.y),a.stroke()}if(O&&O.length>0){a.strokeStyle=i,a.lineWidth=v,a.globalAlpha=1;let R=4*I;for(let H of O)a.beginPath(),a.arc(_+H.x,X+H.y,R,0,Math.PI*2),a.stroke()}let T=Math.floor(Math.min(xt*.45,lt*.7));a.font=`bold ${T}px monospace`,a.textAlign="center",a.textBaseline="middle",a.fillStyle=i;for(let R=0;R<ct;R++)for(let H=0;H<q;H++){let J=Math.round(_+H*Ct+xt/2),st=Math.round(X+R*mt+lt/2),k=`${H},${R}`,N=ft[k]||0;a.fillText(Math.round(N).toString(),J,st)}a.textAlign="left",a.textBaseline="top"}else if(S){let v=Math.floor(Math.min(xt*.45,lt*.7));a.font=`bold ${v}px monospace`,a.textAlign="center",a.textBaseline="middle",a.fillStyle=s;for(let T=0;T<ct;T++)for(let R=0;R<q;R++){let H=Math.round(_+R*Ct+xt/2),J=Math.round(X+T*mt+lt/2),st=`${R},${T}`,k=ft[st]||0;a.fillText(Math.round(k).toString(),H,J)}a.textAlign="left",a.textBaseline="top"}else{let v=Math.max(_,be),T=Math.max(X,vn);for(let R=0;R<ct;R++){let H=Math.round(T+R*mt);if(!(H>Me+wt))for(let J=0;J<q;J++){let st=Math.round(v+J*Ct),k=`${J},${R}`;if(Y&&Y.has(k))continue;let N=ft[k]||0,rt=null,Q=s,V=-1,Nt=!1;if(te===k)V=N>0?Mt(N,St):2,rt=U[Math.min(Math.max(V,2),Z)],Q=i;else if(h==="normal")if(V=Mt(N,St),V===0?rt=null:rt=U[Math.min(V,Z)],Q=Lt(V,k),N>=1.5){let Wt=N-1.5,Gt=30+Math.min(Wt*300,150),at=Ie(s);Q=Ae((at.h+Gt+360)%360,Math.min(100,at.s+20),Math.min(85,at.l+10))}else yt.has(k)&&N>0?Q=i:zt===k&&(Q=s);else if(h==="binary")N===0?C&&(rt=U[1],V=0,Nt=!0,Q=s):(V=Z,rt=U[V],Q=Lt(V,k),yt.has(k)&&(Q=i));else if(h==="inverted")if(V=Math.min(3-Mt(N,St),Z),rt=U[V],Q=Lt(V,k),N>=1.5){let Wt=N-1.5,Gt=30+Math.min(Wt*300,150),at=Ie(s);Q=Ae((at.h+Gt+360)%360,Math.min(100,at.s+20),Math.min(85,at.l+10))}else yt.has(k)&&N>0&&(Q=i);else if(h==="sparse")V=Mt(N,St),V===1?(rt=U[1],Q=Lt(1,k),yt.has(k)&&(Q=i)):rt=null;else if(h==="dense")if(V=Mt(N,St),V>=2)if(rt=U[Math.min(V,Z)],Q=Lt(V,k),N>=1.5){let Wt=N-1.5,Gt=30+Math.min(Wt*300,150),at=Ie(s);Q=Ae((at.h+Gt+360)%360,Math.min(100,at.s+20),Math.min(85,at.l+10))}else yt.has(k)&&(Q=i);else rt=null;if(rt){if(te===k||zt===k)a.fillStyle=Q;else{let it=Lt(Mt(N,St),k);a.fillStyle=yt.has(k)&&N>0?i:it}Nt&&(a.globalAlpha=.1,a.fillStyle=s);let Wt=a.measureText(rt).width,Gt=st+xt,at=Math.min(Gt,Ce),Jt=at-st;if(Jt<G*.5)continue;let An=Nt||N===0&&h!=="inverted",Ee=h==="inverted"&&N===0&&Vt,In=An||Ee?1:ye(R,J),Xe=G*In,ve=Math.max(1,Math.floor((Jt-G)/Xe)+1),Rn=(ve-1)*Xe+G,vt=(Jt-Rn)/G>.3?ve+1:ve,Ot=vt<=1?G:(Jt-G)/(vt-1),Ye=Nt||Ee?0:me*xt,$e=0;Ye>0&&($e=Math.ceil(Ye/Ot));let Tn=Ee?1:vt+$e,ze=Be(R,J),ne=st+Jt/2;for(let it=0;it<Tn&&V>=0;it++){let we=rt;V>=2&&it>0&&it%2===0&&(we=U[Math.max(0,V-1)]);let dt;if(ze==="center")if(it<vt){let gt=Math.floor((it+1)/2)*Ot;it%2===0?dt=ne+(it===0?-G/2:gt-G/2):dt=ne-gt-G/2}else{let gt=it-vt,oe=Math.floor(vt/2)*Ot,re=Math.floor((gt+1)/2)*Ot;if(gt%2===0){if(dt=ne+oe+re,dt+G>Ce)break}else if(dt=ne-oe-re-G,dt<be)break}else if(it<vt)dt=st+it*Ot;else if(ze==="rtl"){let gt=it-vt;if(dt=st-(gt+1)*Ot,dt<be)break}else{let gt=it-vt;if(dt=at+gt*Ot,dt+G>Ce)break}if(qt&&!Nt){let gt=Cn(R,J),oe=a.globalAlpha,re=a.fillStyle;a.globalAlpha=bn,a.fillStyle=En,a.fillText(we,dt+gt.x,H+gt.y),a.globalAlpha=oe,a.fillStyle=re}a.fillText(we,dt,H)}Nt&&(a.globalAlpha=1)}}}}if(F){a.strokeStyle=i,a.lineWidth=.5,a.globalAlpha=1;for(let v=0;v<ct;v++)for(let T=0;T<q;T++){let R=Math.round(_+T*Ct),H=Math.round(X+v*mt);a.strokeRect(R,H,xt,lt)}}if(E&&bt.length>0){let T=W(e+9292)()<.6;a.strokeStyle=T?i:s,a.lineWidth=1.5*I,a.globalAlpha=.85,a.lineCap="round";for(let R of bt)a.beginPath(),a.moveTo(_+R.p1.x,X+R.p1.y),a.lineTo(_+R.p2.x,X+R.p2.y),a.stroke();a.globalAlpha=1}if(f){let v=k=>{let N=parseInt(k.slice(1,3),16),rt=parseInt(k.slice(3,5),16),Q=parseInt(k.slice(5,7),16);return je(N,rt,Q)},T=v(o),R=v(s),H=v(i),J=Math.abs(T-R)>Math.abs(T-H)?s:i,st=2*I;a.strokeStyle=J,a.lineWidth=st,a.globalAlpha=1,a.lineCap="round";for(let k of bt)a.beginPath(),a.moveTo(_+k.p1.x,X+k.p1.y),a.lineTo(_+k.p2.x,X+k.p2.y),a.stroke();if(O&&O.length>0){a.strokeStyle=J,a.lineWidth=st,a.globalAlpha=1;let k=4*I;for(let N of O)a.beginPath(),a.arc(_+N.x,X+N.y,k,0,Math.PI*2),a.stroke()}}if(u){let v=ge.map(T=>({x:T.x*I,y:T.y*D}));if(v.length>=3){a.strokeStyle="#00ffff",a.lineWidth=2,a.globalAlpha=.9,a.beginPath(),a.moveTo(_+v[0].x,X+v[0].y);for(let T=1;T<v.length;T++)a.lineTo(_+v[T].x,X+v[T].y);a.closePath(),a.stroke(),a.fillStyle="#00ffff",a.globalAlpha=.15,a.fill(),a.globalAlpha=1}}if(w){a.strokeStyle=s,a.lineWidth=1,a.globalAlpha=.3;for(let v=0;v<=q;v++){let T=_+v*Ct;a.beginPath(),a.moveTo(T,X),a.lineTo(T,X+wt),a.stroke()}for(let v=0;v<=ct;v++){let T=X+v*mt;a.beginPath(),a.moveTo(_,T),a.lineTo(_+$t,T),a.stroke()}a.globalAlpha=1}if(x){let v=8*I;if(a.lineWidth=2,a.globalAlpha=1,Rt){let T=_+Rt.x*I,R=X+Rt.y*D;a.strokeStyle="#00ff00",a.beginPath(),a.arc(T,R,v,0,Math.PI*2),a.stroke()}if(Tt){let T=_+Tt.x*I,R=X+Tt.y*D;a.strokeStyle="#00ff00",a.beginPath(),a.arc(T,R,v,0,Math.PI*2),a.stroke()}}let wn={grid:{cols:q,rows:ct,colGap:j.colGap,rowGap:j.rowGap},drawDirection:Kt,foldStrategy:d?.type||"random",multiColor:b,showCreaseLines:E,creaseCount:It.length};return{canvas:z,dataUrl:z.toDataURL("image/png"),settings:wn}}function We(t,e=1200,n=1697,r=0,o=null){let s=De(t),i=on(t),c=nn(t),l=no(t),h=o;if(h===null){let Y=W(t+9999);h=Math.floor(1+Y()*500)}let C=e-145*2,b=n-145*2,{creases:g}=Oe(C,b,h,t,s,i,l),d=g.length,p=rn(d),y=qn(t,d),f=Yn(t),u,x=null;y?(x=Jn(t),u=Qn(t,f,x)):u=f;let m=y?!1:Vn(t),w=null;y?w=Zn(u.bg,u.text):m&&(w=Kn(t,u.bg,u.text));let S=$n(e,n,0,t),F=zn(t),E=jn(t),A=to(t),B=eo(t),P=Un(t);return{seed:t,palette:u,cells:S,renderMode:F,showEmptyCells:E,weightRange:s,foldStrategy:i,gradientMode:y,gradientProbability:p,creaseCount:d,multiColor:m,levelColors:w,maxFolds:c,paperProperties:l,showCreaseLines:A,analyticsMode:B,overlapInfo:P,folds:h}}function xo(t,e,n,r=""){let o=We(e,1200,1697,0,n),s=oo(o.paperProperties),i=Math.round(o.gradientProbability*100),c;return o.gradientMode?c=`gradient/${o.palette.anchorType||"background"} (${i}% @ ${o.creaseCount} creases)`:c=`cga/${o.palette.strategy} (${i}% gradient @ ${o.creaseCount} creases)`,{name:`Fold #${t}`,description:"On-chain generative paper folding art",image:r?`${r}/${t}`:"",attributes:[{trait_type:"Fold Strategy",value:o.foldStrategy.type},{trait_type:"Render Mode",value:o.renderMode},{trait_type:"Multi-Color",value:o.multiColor?"Yes":"No"},{trait_type:"Cell Size",value:`${o.cells.cellW}x${o.cells.cellH}`},{trait_type:"Fold Count",value:n},{trait_type:"Max Folds",value:o.maxFolds},{trait_type:"Crease Count",value:o.creaseCount},{trait_type:"Palette Strategy",value:c},{trait_type:"Paper Type",value:s},{trait_type:"Paper Grain",value:o.paperProperties.angleAffinity!==null?"Grain":"Uniform"},...o.showCreaseLines?[{trait_type:"Crease Lines",value:"Visible"}]:[]]}}async function mo(t){if(!t)return!1;let e=document.createElement("style");e.textContent=`
    @font-face {
      font-family: '${Zt}';
      src: url('${t}');
    }
  `,document.head.appendChild(e);try{return await document.fonts.load(`12px ${Zt}`),await document.fonts.ready,!0}catch(n){return console.warn("Failed to load on-chain font:",n),!1}}function yo(t){if(typeof t=="number")return t;if(typeof t!="string")return 0;let e=t.replace(/^0x/,"").slice(0,16),n=BigInt("0x"+e);return Number(n%BigInt(2147483647))}var ie=null;function Mo(t,e,n){let{seed:r,foldCount:o,params:s}=t,{palette:i,cells:c,renderMode:l,showEmptyCells:h,multiColor:C,levelColors:b,foldStrategy:g,paperProperties:d}=s,{cellW:p,cellH:y}=c,{bg:f,text:u,accent:x}=i,m=e/1200,w=n/1697,S=1200-145*2,F=1697-145*2,E=an(r,p,y,S,F),{cols:A,rows:B,strideX:P,strideY:Y,gridOffsetX:$,gridOffsetY:z}=E,a=E.cellWidth,pt=E.cellHeight,I=(145+$)*m,D=(145+z)*w,L=a*m,K=pt*w,j=P*m,q=Y*w,ct=De(r),Bt=ln(d,A,B),Pt=E.actualGridWidth,he=E.actualGridHeight,{creases:pe,firstFoldTarget:Xt,lastFoldTarget:Yt}=Oe(Pt,he,o,r,ct,g,Bt),$t=pe.map(O=>({...O,p1:{x:O.p1.x*m,y:O.p1.y*w},p2:{x:O.p2.x*m,y:O.p2.y*w}})),wt=null;if(Xt){let O=Math.max(0,Math.min(A-1,Math.floor(Xt.x/P))),ft=Math.max(0,Math.min(B-1,Math.floor(Xt.y/Y)));wt=`${O},${ft}`}let _=null;if(Yt){let O=Math.max(0,Math.min(A-1,Math.floor(Yt.x/P))),ft=Math.max(0,Math.min(B-1,Math.floor(Yt.y/Y)));_=`${O},${ft}`}let{cellWeights:X,cellMaxGap:xt}=dn($t,A,B,j,q,o,d),lt=new Set;if(Object.keys(xt).length>0){let O=Math.max(...Object.values(xt));for(let[ft,ut]of Object.entries(xt))ut===O&&lt.add(ft)}let Ct=1+le+ae,mt=K/Ct,At=mt*Fe,Et=[" ","\u2591","\u2592","\u2593"],Ft=mt<30?2:3,Dt=cn(X),It=(O,ft)=>C&&b&&b[O]?b[O]:u,ge=fn(r,A,l),{cellOverflowAmount:_e,invertedSingleCharOnEmpty:Rt,getOverlapFactor:Tt,getCellDirection:He}=ge,te=145*m,zt=1055*m,bt=[];for(let O=0;O<B;O++){let ft=D+O*q;for(let ut=0;ut<A;ut++){let yt=I+ut*j,ot=`${ut},${O}`,nt=X[ot]||0,U=null,Z=u,G=-1,jt=!1;if(wt===ot?(G=nt>0?Mt(nt,Dt):2,U=Et[Math.min(Math.max(G,2),Ft)],Z=x):l==="normal"?(G=Mt(nt,Dt),G===0?U=null:U=Et[Math.min(G,Ft)],Z=It(G,ot),lt.has(ot)&&nt>0?Z=x:_===ot&&(Z=u)):l==="binary"?nt===0?h&&(U=Et[1],jt=!0,Z=u):(G=Ft,U=Et[G],Z=It(G,ot),lt.has(ot)&&(Z=x)):l==="inverted"?(G=Math.min(3-Mt(nt,Dt),Ft),U=Et[G],Z=It(G,ot),lt.has(ot)&&nt>0&&(Z=x)):l==="sparse"?(G=Mt(nt,Dt),G===1?(U=Et[1],Z=It(1,ot),lt.has(ot)&&(Z=x)):U=null):l==="dense"&&(G=Mt(nt,Dt),G>=2?(U=Et[Math.min(G,Ft)],Z=It(G,ot),lt.has(ot)&&(Z=x)):U=null),!U||U===" "||jt)continue;let xe=yt+L,Ut=Math.min(xe,zt)-yt;if(Ut<At*.5)continue;let St=jt||nt===0&&l!=="inverted",ee=l==="inverted"&&nt===0&&Rt,me=St||ee?1:Tt(O,ut),Kt=At*me,Vt=Math.max(1,Math.floor((Ut-At)/Kt)+1),ye=(Vt-1)*Kt+At,Lt=(Ut-ye)/At,kt=ee?1:Lt>.3?Vt+1:Vt,qt=U.repeat(kt);bt.push({id:`char-${O}-${ut}`,char:qt,editChar:U,x:yt,y:ft,width:L,height:K,fontSize:mt,color:Z,row:O,col:ut,level:G,numChars:kt,step:Kt,charWidth:At,isAccent:lt.has(ot),isFoldTarget:wt===ot||_===ot})}}return{characters:bt,background:{color:f,textureColor:u,textureOpacity:.1},grid:{cols:A,rows:B,cellWidth:L,cellHeight:K,offsetX:I,offsetY:D}}}function bo(t,e){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>t.apply(this,r),e)}}var M={charData:null,charElements:[],textBuffer:[],originalPositions:new Map,cursorIndex:-1,isEditing:!1,dragState:null,hiddenInput:null,container:null,bgCanvas:null,charLayer:null,loading:null,state:null,renderWidth:0,renderHeight:0,redrawCanvas:null},Co=`
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    overflow: hidden;
  }
  .fold-container {
    position: relative;
    width: min(100vw, calc(100vh * 1200 / 1697));
    height: min(100vh, calc(100vw * 1697 / 1200));
  }
  .fold-loading {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: #fff;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: "Courier New", monospace;
    font-size: 24px;
    color: #000;
  }
  .fold-bg {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
  }
  .fold-chars {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    overflow: hidden;
  }
  .fold-char {
    position: absolute;
    cursor: default;
    user-select: none;
    font-family: "${Zt}", "Courier New", monospace;
    line-height: 1;
    white-space: pre;
  }
  .fold-char.dragging {
    cursor: grabbing;
    z-index: 1000;
    filter: brightness(1.2);
  }
  .fold-char.editing::after {
    content: '';
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 2px;
    height: 60%;
    background: currentColor;
    animation: cursor-blink 1s step-end infinite;
  }
  @keyframes cursor-blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }
`;function Eo(){if(document.getElementById("fold-interactive-css"))return;let t=document.createElement("style");t.id="fold-interactive-css",t.textContent=Co,document.head.appendChild(t)}function vo(){let t=document.createElement("div");t.className="fold-container",t.id="fold-container",t.style.cssText="position:relative;width:min(100vw,calc(100vh*1200/1697));height:min(100vh,calc(100vw*1697/1200))";let e=document.createElement("div");e.className="fold-loading",e.id="fold-loading",e.textContent="\u2592",e.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;background:#fff;z-index:100;display:flex;align-items:center;justify-content:center;font-family:Courier New,monospace;font-size:24px;color:#000";let n=document.createElement("canvas");n.className="fold-bg",n.id="fold-bg";let r=document.createElement("div");return r.className="fold-chars",r.id="fold-chars",t.appendChild(e),t.appendChild(n),t.appendChild(r),document.body.appendChild(t),M.container=t,M.bgCanvas=n,M.charLayer=r,M.loading=e,{container:t,bgCanvas:n,charLayer:r,loading:e}}function wo(t){let{isEditing:e,cursorIndex:n,textBuffer:r,hiddenInput:o,redrawCanvas:s}=M;if(!e||n<0)return;let i=t.data;if(!i)return;for(let l=0;l<i.length;l++){let h=n+l;if(h>=r.length)break;let C=r[h];C.char=i[l]}let c=Math.min(n+i.length,r.length-1);c!==n&&(M.cursorIndex=c),s&&s(!0),Qt(),o.value=""}function Ao(t){let{isEditing:e,cursorIndex:n,textBuffer:r,redrawCanvas:o}=M;if(e){if(t.key==="Escape"){de();return}if(t.key==="ArrowLeft")t.preventDefault(),n>0&&(M.cursorIndex=n-1,o&&o(!0),Qt());else if(t.key==="ArrowRight")t.preventDefault(),n<r.length-1&&(M.cursorIndex=n+1,o&&o(!0),Qt());else if(t.key==="Backspace"){t.preventDefault();let s=r[n];s.char=s.originalChar,n>0&&(M.cursorIndex=n-1),o&&o(!0),Qt()}else if(t.key==="Delete"){t.preventDefault();let s=r[n];s.char=s.originalChar,o&&o(!0)}}}function Io(){setTimeout(()=>{M.hiddenInput&&!M.hiddenInput.matches(":focus")&&de()},100)}function Qt(){let{charElements:t,cursorIndex:e,hiddenInput:n,textBuffer:r}=M;if(t.forEach(o=>{o.classList.remove("editing"),o.style.color=""}),e>=0&&e<t.length){let o=r[e];o&&(o.el.style.color=o.color),t[e].classList.add("editing"),n&&(n.style.left=t[e].style.left,n.style.top=t[e].style.top)}}function Ro(t){M.isEditing=!0,M.cursorIndex=t,M.redrawCanvas&&M.redrawCanvas(!0),Qt(),M.hiddenInput&&M.hiddenInput.focus()}function de(){let{charElements:t,redrawCanvas:e}=M;M.isEditing=!1,M.cursorIndex=-1,t.forEach(n=>{n.classList.remove("editing","cursor"),n.style.color=""}),M.hiddenInput&&M.hiddenInput.blur(),e&&e(!1)}function To(t){t.addEventListener("mousedown",So),t.addEventListener("touchstart",Lo,{passive:!1}),document.addEventListener("mousemove",ko),document.addEventListener("touchmove",Fo,{passive:!1}),document.addEventListener("mouseup",Do),document.addEventListener("touchend",Go),t.addEventListener("dblclick",Oo)}function So(t){let e=t.target.closest(".fold-char");e&&(t.preventDefault(),pn(e,t.clientX,t.clientY))}function Lo(t){let e=t.target.closest(".fold-char");if(!e)return;t.preventDefault();let n=t.touches[0];pn(e,n.clientX,n.clientY)}function pn(t,e,n){let r=t.getBoundingClientRect(),o=M.container.getBoundingClientRect();M.dragState={el:t,offsetX:e-r.left,offsetY:n-r.top,containerRect:o},t.classList.add("dragging")}function ko(t){M.dragState&&gn(t.clientX,t.clientY)}function Fo(t){if(!M.dragState)return;t.preventDefault();let e=t.touches[0];gn(e.clientX,e.clientY)}function gn(t,e){let{el:n,containerRect:r,offsetX:o,offsetY:s}=M.dragState,i=t-r.left-o,c=e-r.top-s;n.style.left=i+"px",n.style.top=c+"px"}function Do(){xn()}function Go(){xn()}function xn(){M.dragState&&(M.dragState.el.classList.remove("dragging"),M.dragState=null)}function Oo(t){let e=t.target.closest(".fold-char");if(!e)return;t.preventDefault();let n=parseInt(e.dataset.index,10);isNaN(n)||Ro(n)}function No(t){let{state:e,renderWidth:n,renderHeight:r,textBuffer:o,container:s}=M;if(!e||!s)return;let i=n,c=r,{params:l}=e,h=new Set;for(let d of o)d.char!==d.originalChar&&h.add(`${d.col},${d.row}`);let C=Ne({folds:l.folds,seed:e.seed,outputWidth:i,outputHeight:c,bgColor:l.palette.bg,textColor:l.palette.text,accentColor:l.palette.accent,cellWidth:l.cells.cellW,cellHeight:l.cells.cellH,renderMode:l.renderMode,showEmptyCells:l.showEmptyCells,multiColor:l.multiColor,levelColors:l.levelColors,foldStrategy:l.foldStrategy,paperProperties:l.paperProperties,showCreaseLines:l.showCreaseLines,analyticsMode:l.analyticsMode,skipCells:h.size>0?h:null}),b=C.canvas.getContext("2d"),g=C.canvas.width/i;for(let d of o)if(d.char!==d.originalChar&&d.char.trim()!==""){let p=d.fontSize*g;b.font=`${p}px ${ue}`,b.fillStyle=d.color,b.textAlign="center",b.textBaseline="middle";let y=(d.x+d.width/2)*g,f=(d.y+d.height/2)*g;b.fillText(d.char,y,f)}C.canvas.toBlob(d=>{let p=URL.createObjectURL(d),y=document.createElement("a");y.href=p,y.download=`fold-${t||"edit"}.png`,y.click(),URL.revokeObjectURL(p)},"image/png")}function Wo(){de();let{charElements:t,textBuffer:e,originalPositions:n,redrawCanvas:r,offsetX:o=0,offsetY:s=0}=M;for(let i=0;i<t.length;i++){let c=t[i],l=n.get(i);l&&(c.style.left=l.x+o+"px",c.style.top=l.y+s+"px",e[i]&&(e[i].char=l.editChar,e[i].x=l.x,e[i].y=l.y))}r&&r(!1)}function _o(t){document.addEventListener("keydown",e=>{if((e.metaKey||e.ctrlKey)&&e.key==="s"){e.preventDefault(),No(t);return}M.isEditing||e.key==="Escape"&&(e.preventDefault(),Wo())})}function tn(t,e,n){let{bgCanvas:r,charLayer:o}=M,{seed:s,params:i}=t,c=1200/1697,l,h;e/n>c?(h=n,l=Math.floor(h*c)):(l=e,h=Math.floor(l/c)),M.state=t,M.renderWidth=l,M.renderHeight=h,M.containerWidth=e,M.containerHeight=n;let C=(p=!1)=>{let y=new Set;for(let E=0;E<M.textBuffer.length;E++){let A=M.textBuffer[E];(p&&E===M.cursorIndex||A.char!==A.originalChar)&&y.add(`${A.col},${A.row}`)}let f=2;r.width=e*f,r.height=n*f,r.style.width=e+"px",r.style.height=n+"px";let u=r.getContext("2d");u.setTransform(f,0,0,f,0,0),u.fillStyle=i.palette.bg,u.fillRect(0,0,e,n);let x=l/1200;hn(u,e,n,x,i.palette.text);let m=Ne({folds:i.folds,seed:s,outputWidth:l,outputHeight:h,bgColor:i.palette.bg,textColor:i.palette.text,accentColor:i.palette.accent,cellWidth:i.cells.cellW,cellHeight:i.cells.cellH,renderMode:i.renderMode,showEmptyCells:i.showEmptyCells,multiColor:i.multiColor,levelColors:i.levelColors,foldStrategy:i.foldStrategy,paperProperties:i.paperProperties,showCreaseLines:i.showCreaseLines,analyticsMode:i.analyticsMode,skipCells:y.size>0?y:null,skipBackground:!0}),w=(e-l)/2,S=(n-h)/2;u.drawImage(m.canvas,0,0,m.canvas.width,m.canvas.height,w,S,l,h);let F=f;for(let E=0;E<M.textBuffer.length;E++){let A=M.textBuffer[E];if(!(p&&E===M.cursorIndex)&&A.char!==A.originalChar&&A.char.trim()!==""){let P=A.fontSize*F;u.font=`${P}px ${ue}`,u.fillStyle=A.color,u.textAlign="center",u.textBaseline="middle";let Y=(w+A.x+A.width/2)*F,$=(S+A.y+A.height/2)*F;u.fillText(A.char,Y,$),u.textAlign="left",u.textBaseline="top"}}};M.redrawCanvas=C,C(!1);let b=(e-l)/2,g=(n-h)/2;M.offsetX=b,M.offsetY=g;let d=Mo(t,l,h);M.charData=d,Ho(o,d.characters)}function Ho(t,e){de(),t.innerHTML="",M.charElements=[],M.originalPositions.clear(),M.textBuffer=[],M.hiddenInput=null;let n=M.offsetX||0,r=M.offsetY||0;for(let s=0;s<e.length;s++){let i=e[s],c=document.createElement("div");c.className="fold-char",c.dataset.index=s,c.style.cssText=`
      position: absolute;
      left: ${i.x+n}px;
      top: ${i.y+r}px;
      width: ${i.width}px;
      height: ${i.height}px;
      user-select: none;
      background: transparent;
    `;let l=i.editChar||i.char.charAt(0),h=i.numChars||i.char.length;M.originalPositions.set(s,{x:i.x,y:i.y,char:i.char,editChar:l,numChars:h}),M.textBuffer.push({char:l,originalChar:l,displayChar:i.char,numChars:h,el:c,color:i.color,fontSize:i.fontSize,x:i.x,y:i.y,width:i.width,height:i.height,row:i.row,col:i.col,step:i.step,charWidth:i.charWidth}),t.appendChild(c),M.charElements.push(c)}let o=document.createElement("input");o.type="text",o.style.cssText="position:absolute;opacity:0;pointer-events:none;width:1px;height:1px;",o.addEventListener("input",wo),o.addEventListener("keydown",Ao),o.addEventListener("blur",Io),t.appendChild(o),M.hiddenInput=o}async function ke(){let t=typeof window<"u"&&window.SEED,e=typeof window<"u"&&window.FOLD_COUNT,n=typeof window<"u"&&window.LESS_SEED;if(n&&!t&&(t=yo(n)),t&&e===void 0){let o=W(t+9999);e=Math.floor(1+o()*500)}let r=typeof window<"u"&&window.FONT_DATA_URI||en;if(t&&e!==void 0){await mo(r),Eo(),vo();let o=We(t,1200,1697,0,e);ie={seed:t,foldCount:e,params:o};let i=M.container.getBoundingClientRect();tn(ie,i.width,i.height),M.loading&&(M.loading.style.display="none"),To(M.charLayer),_o(t),typeof window<"u"&&(window.RENDER_COMPLETE=!0),window.addEventListener("resize",bo(()=>{if(ie){let c=M.container.getBoundingClientRect();tn(ie,c.width,c.height)}},150))}}typeof window<"u"&&(window.SEED||window.FOLD_COUNT!==void 0||window.LESS_SEED)&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>ke()):ke());})();
